(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b30bd"],{2768:function(r,t,e){"use strict";e.r(t);var o=function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",[r.isLoading?e("div",[e("v-row",[e("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e("v-progress-circular",{attrs:{indeterminate:"",size:200,width:20,color:"primary"}})],1)],1)],1):e("div",{staticClass:"container"},[e("v-row",[e("v-col",{staticClass:"text-left",attrs:{cols:"12"}},[e("h2",[r._v(r._s(r.$i18n.t("Profil")))])])],1),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-form",{model:{value:r.formProfil.valid,callback:function(t){r.$set(r.formProfil,"valid",t)},expression:"formProfil.valid"}},[e("v-row",[e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-select",{attrs:{label:r.$i18n.t("Salutation"),placeholder:" ",items:r.listSalutation,rules:[function(t){return!!t||r.$i18n.t("Cechampsesrrequis")}],"error-messages":r.formError.customer.salutation,required:"",filled:"",attach:""},on:{keydown:function(t){r.formError.customer.salutation=null}},model:{value:r.formProfil.customer.salutation,callback:function(t){r.$set(r.formProfil.customer,"salutation",t)},expression:"formProfil.customer.salutation"}})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:r.$i18n.t("Courriel"),placeholder:" ",rules:[function(t){return!!t||r.$i18n.t("Cechampsesrrequis")}],"error-messages":r.formError.customer.email,required:"",filled:""},on:{keydown:function(t){r.formError.customer.email=null}},model:{value:r.formProfil.customer.email,callback:function(t){r.$set(r.formProfil.customer,"email",t)},expression:"formProfil.customer.email"}})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:r.$i18n.t("Prenom"),placeholder:" ",rules:[function(t){return!!t||r.$i18n.t("Cechampsesrrequis")}],"error-messages":r.formError.customer.first_name,required:"",filled:""},on:{keydown:function(t){r.formError.customer.first_name=null}},model:{value:r.formProfil.customer.first_name,callback:function(t){r.$set(r.formProfil.customer,"first_name",t)},expression:"formProfil.customer.first_name"}})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:r.$i18n.t("Nomdefamille"),placeholder:" ",rules:[function(t){return!!t||r.$i18n.t("Cechampsesrrequis")}],"error-messages":r.formError.customer.last_name,required:"",filled:""},on:{keydown:function(t){r.formError.customer.last_name=null}},model:{value:r.formProfil.customer.last_name,callback:function(t){r.$set(r.formProfil.customer,"last_name",t)},expression:"formProfil.customer.last_name"}})],1)],1),r.formProfil.success?e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-alert",{attrs:{text:"",color:"success"}},[e("div",{domProps:{innerHTML:r._s(r.formProfil.success)}})])],1)],1):r._e(),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-btn",{attrs:{tile:"",color:"primary",disabled:!r.formProfil.valid},on:{click:function(t){return r.setUpload()}}},[r._v(r._s(r.$i18n.t("Modifier")))])],1)],1)],1)],1)],1)],1)])},s=[],a={name:"Profil",data:function(){return{isLoading:!0,isLoadingProfil:!1,listSalutation:[],formProfil:{valid:!1,success:null,customer:{plugin_order:1,salutation:null,first_name:null,last_name:null,email:null}},formError:{customer:{salutation:null,first_name:null,last_name:null,email:null}}}},mounted:function(){this.$set(this,"listSalutation",[{text:this.$i18n.t("Madame"),value:"mrs"},{text:this.$i18n.t("Monsieur"),value:"mr"},{text:this.$i18n.t("Preferepasrepondre"),value:"na"}]),this.getCustomer()},methods:{getCustomer:function(){var r=this;this.$set(this,"isLoading",!0),this.$axios.get(this.$web_url+"/api/fe/customer/",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){t.data.customer&&(r.$set(r.formProfil.customer,"salutation",t.data.customer.salutation?t.data.customer.salutation:""),r.$set(r.formProfil.customer,"first_name",t.data.customer.first_name?t.data.customer.first_name:""),r.$set(r.formProfil.customer,"last_name",t.data.customer.last_name?t.data.customer.last_name:""),r.$set(r.formProfil.customer,"email",t.data.customer.email?t.data.customer.email:"")),r.$set(r,"isLoading",!1)})).catch((function(){r.$set(r,"isLoading",!1)}))},setUpload:function(){var r=this;this.$set(this.formProfil,"success",null),this.$set(this,"isLoadingProfil",!0);var t=this.formProfil;this.$axios.put(this.$api_url+"/checkout/upload/",t,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(){r.$set(r.formProfil,"success","Profil mis à jour avec succès&nbsp;!"),r.$set(r,"isLoadingProfil",!1)})).catch((function(t){t.response&&t.response.data&&t.response.data.customer_form&&(r.$set(r.formError.customer,"salutation",t.response.data.customer_form.salutation?t.response.data.customer_form.salutation:null),r.$set(r.formError.customer,"first_name",t.response.data.customer_form.first_name?t.response.data.customer_form.first_name:null),r.$set(r.formError.customer,"last_name",t.response.data.customer_form.last_name?t.response.data.customer_form.last_name:null),r.$set(r.formError.customer,"email",t.response.data.customer_form.email?t.response.data.customer_form.email:null)),r.$set(r,"isLoadingProfil",!1)}))}}},l=a,i=e("2877"),n=e("6544"),m=e.n(n),u=e("0798"),c=e("8336"),f=e("62ad"),d=e("4bd4"),p=e("490a"),v=e("0fd9"),_=e("b974"),h=e("8654"),$=Object(i["a"])(l,o,s,!1,null,null,null);t["default"]=$.exports;m()($,{VAlert:u["a"],VBtn:c["a"],VCol:f["a"],VForm:d["a"],VProgressCircular:p["a"],VRow:v["a"],VSelect:_["a"],VTextField:h["a"]})}}]);