(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b30bd"],{2768:function(t,r,e){"use strict";e.r(r);var o=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[t.isLoading?e("div",[e("v-row",[e("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e("v-progress-circular",{attrs:{indeterminate:"",size:200,width:20,color:"primary"}})],1)],1)],1):e("div",{staticClass:"container"},[t.isAuth?e("div",[e("v-row",[e("v-col",{staticClass:"text-left",attrs:{cols:"12"}},[e("h2",[t._v(t._s(t.$i18n.t("Profil")))])])],1),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-form",{model:{value:t.formProfil.valid,callback:function(r){t.$set(t.formProfil,"valid",r)},expression:"formProfil.valid"}},[e("v-row",[e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-select",{attrs:{label:t.$i18n.t("Salutation"),placeholder:" ",items:t.listSalutation,rules:[function(r){return!!r||t.$i18n.t("Cechampsesrrequis")}],"error-messages":t.formError.customer.salutation,required:"",filled:"",attach:""},on:{keydown:function(r){t.formError.customer.salutation=null}},model:{value:t.formProfil.customer.salutation,callback:function(r){t.$set(t.formProfil.customer,"salutation",r)},expression:"formProfil.customer.salutation"}})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:t.$i18n.t("Courriel"),placeholder:" ",rules:[function(r){return!!r||t.$i18n.t("Cechampsesrrequis")}],"error-messages":t.formError.customer.email,required:"",filled:""},on:{keydown:function(r){t.formError.customer.email=null}},model:{value:t.formProfil.customer.email,callback:function(r){t.$set(t.formProfil.customer,"email",r)},expression:"formProfil.customer.email"}})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:t.$i18n.t("Prenom"),placeholder:" ",rules:[function(r){return!!r||t.$i18n.t("Cechampsesrrequis")}],"error-messages":t.formError.customer.first_name,required:"",filled:""},on:{keydown:function(r){t.formError.customer.first_name=null}},model:{value:t.formProfil.customer.first_name,callback:function(r){t.$set(t.formProfil.customer,"first_name",r)},expression:"formProfil.customer.first_name"}})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:t.$i18n.t("Nomdefamille"),placeholder:" ",rules:[function(r){return!!r||t.$i18n.t("Cechampsesrrequis")}],"error-messages":t.formError.customer.last_name,required:"",filled:""},on:{keydown:function(r){t.formError.customer.last_name=null}},model:{value:t.formProfil.customer.last_name,callback:function(r){t.$set(t.formProfil.customer,"last_name",r)},expression:"formProfil.customer.last_name"}})],1)],1),t.formProfil.success?e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-alert",{attrs:{text:"",color:"success"}},[e("div",{domProps:{innerHTML:t._s(t.formProfil.success)}})])],1)],1):t._e(),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-btn",{attrs:{tile:"",color:"primary",disabled:!t.formProfil.valid},on:{click:function(r){return t.setUpload()}}},[t._v(t._s(t.$i18n.t("Modifier")))])],1)],1)],1)],1)],1)],1):e("div",[e("dm-auth",{on:{"is-auth":function(r){return t.setAuth()}}})],1)])])},s=[],a=(e("d3b7"),{name:"Profil",components:{dmAuth:function(){return e.e("chunk-619db3e4").then(e.bind(null,"ecf1"))}},data:function(){return{isLoading:!0,isLoadingProfil:!1,isAuth:!1,listSalutation:[],formProfil:{valid:!1,success:null,customer:{plugin_order:1,salutation:null,first_name:null,last_name:null,email:null}},formError:{customer:{salutation:null,first_name:null,last_name:null,email:null}}}},mounted:function(){document.title=this.$i18n.t("Profile"),this.$set(this,"listSalutation",[{text:this.$i18n.t("Madame"),value:"mrs"},{text:this.$i18n.t("Monsieur"),value:"mr"},{text:this.$i18n.t("Preferepasrepondre"),value:"na"}]),this.getCustomer()},methods:{setAuth:function(){this.$set(this,"isAuth",!0),this.getCustomer()},getCustomer:function(){var t=this;this.$set(this,"isLoading",!0),this.$axios.get(this.$web_url+"/api/fe/customer/",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(r){r.data.customer&&(t.$set(t.formProfil.customer,"salutation",r.data.customer.salutation?r.data.customer.salutation:""),t.$set(t.formProfil.customer,"first_name",r.data.customer.first_name?r.data.customer.first_name:""),t.$set(t.formProfil.customer,"last_name",r.data.customer.last_name?r.data.customer.last_name:""),t.$set(t.formProfil.customer,"email",r.data.customer.email?r.data.customer.email:"")),t.$set(t,"isLoading",!1)})).catch((function(){t.$set(t,"isLoading",!1)}))},setUpload:function(){var t=this;this.$set(this.formProfil,"success",null),this.$set(this,"isLoadingProfil",!0);var r=this.formProfil;this.$axios.put(this.$api_url+"/checkout/upload/",r,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(){t.$set(t.formProfil,"success","Profil mis à jour avec succès&nbsp;!"),t.$set(t,"isLoadingProfil",!1)})).catch((function(r){r.response&&r.response.data&&r.response.data.customer_form&&(t.$set(t.formError.customer,"salutation",r.response.data.customer_form.salutation?r.response.data.customer_form.salutation:null),t.$set(t.formError.customer,"first_name",r.response.data.customer_form.first_name?r.response.data.customer_form.first_name:null),t.$set(t.formError.customer,"last_name",r.response.data.customer_form.last_name?r.response.data.customer_form.last_name:null),t.$set(t.formError.customer,"email",r.response.data.customer_form.email?r.response.data.customer_form.email:null)),t.$set(t,"isLoadingProfil",!1)}))}}}),i=a,l=e("2877"),n=e("6544"),u=e.n(n),m=e("0798"),c=e("8336"),f=e("62ad"),d=e("4bd4"),p=e("490a"),h=e("0fd9"),v=e("b974"),_=e("8654"),$=Object(l["a"])(i,o,s,!1,null,null,null);r["default"]=$.exports;u()($,{VAlert:m["a"],VBtn:c["a"],VCol:f["a"],VForm:d["a"],VProgressCircular:p["a"],VRow:h["a"],VSelect:v["a"],VTextField:_["a"]})}}]);